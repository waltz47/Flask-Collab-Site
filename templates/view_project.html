{% extends "base.html" %}
{% block title %}View Project{% endblock %}
{% block content %}
<h2 class="mb-4">{{ project.title }}</h2>
<p><strong>Posted by:</strong> {{ project.owner }}</p>
<p><strong>Category:</strong> {{ project.category }}</p>
<p><strong>Deadline:</strong> {{ project.deadline }}</p>
<p>{{ project.description }}</p>
{% if project.users|length > 1 %}
    <p><strong>Other Users:</strong> {{ project.users|rejectattr('username', 'equalto', project.owner)|map(attribute='username')|join(', ') }}</p>
{% endif %}
<div id="projectCarousel" class="carousel slide" data-bs-ride="carousel">
    <div class="carousel-inner">
        {% if project.project_images %}
            {% for image in project.project_images.split(',') %}
                <div class="carousel-item {% if loop.first %}active{% endif %}">
                    <img src="/static/uploads/{{ image.strip() }}" class="d-block w-100 img-fluid img-thumbnail carousel-image" alt="Project Image">
                </div>
            {% endfor %}
        {% else %}
            <div class="carousel-item active">
                <p>No image for this project.</p>
            </div>
        {% endif %}
    </div>
    <button class="carousel-control-prev" type="button" data-bs-target="#projectCarousel" data-bs-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Previous</span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#projectCarousel" data-bs-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Next</span>
    </button>
</div>
<a href="/browse-projects" class="btn btn-link mt-3">Back to Browse Projects</a>
{% endblock %}
